{"ast":null,"code":"import _objectSpread from\"C:/Users/MUGARIANDANI/Downloads/textbook-exchange-centered (1)/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import\"./App.css\";import React,{useEffect,useMemo,useRef,useState}from\"react\";import{motion,AnimatePresence}from\"framer-motion\";import{Search,Plus,LogIn,LogOut,BookOpen,Heart,Trash2,Star,X,CheckCircle2,MessageCircle,Phone,Filter,Upload,User}from\"lucide-react\";// Utility helpers\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const uid=()=>Math.random().toString(36).slice(2)+Date.now().toString(36);const nowISO=()=>new Date().toISOString();// LocalStorage wrapper\nconst LS={get(key,fallback){try{var _JSON$parse;return(_JSON$parse=JSON.parse(localStorage.getItem(key)||\"\"))!==null&&_JSON$parse!==void 0?_JSON$parse:fallback;}catch(_unused){return fallback;}},set(key,val){localStorage.setItem(key,JSON.stringify(val));},del(key){localStorage.removeItem(key);}};const KEYS={users:\"tx_users\",books:\"tx_books\",favs:\"tx_favs\",session:\"tx_session\"};// Seed demo data on first load\nfunction useSeed(){useEffect(()=>{const users=LS.get(KEYS.users,[]);const books=LS.get(KEYS.books,[]);if(users.length===0&&books.length===0){const u1={id:uid(),name:\"Alex Student\",email:\"alex@campus.ac.za\",phone:\"0601234567\",created_at:nowISO(),password:\"pass\"};const u2={id:uid(),name:\"Bongani N.\",email:\"bongani@campus.ac.za\",phone:\"0619876543\",created_at:nowISO(),password:\"pass\"};const demoBooks=[{id:uid(),title:\"Discrete Mathematics and Its Applications\",author:\"Rosen\",course:\"CS201\",price:300,condition:\"Good\",image:\"\",seller_id:u1.id,status:\"Available\",created_at:nowISO()},{id:uid(),title:\"Introduction to Algorithms\",author:\"CLRS\",course:\"CS301\",price:450,condition:\"Used\",image:\"\",seller_id:u2.id,status:\"Available\",created_at:nowISO()}];LS.set(KEYS.users,[u1,u2]);LS.set(KEYS.books,demoBooks);}},[]);}function useStore(){const[users,setUsers]=useState(()=>LS.get(KEYS.users,[]));const[books,setBooks]=useState(()=>LS.get(KEYS.books,[]));const[session,setSession]=useState(()=>LS.get(KEYS.session,null));const[favs,setFavs]=useState(()=>LS.get(KEYS.favs,{}));// { [userId]: { [bookId]: true } }\nuseEffect(()=>LS.set(KEYS.users,users),[users]);useEffect(()=>LS.set(KEYS.books,books),[books]);useEffect(()=>LS.set(KEYS.session,session),[session]);useEffect(()=>LS.set(KEYS.favs,favs),[favs]);return{users,setUsers,books,setBooks,session,setSession,favs,setFavs};}function Header(_ref){let{session,onLogout,onShowAdd,onShowFavs,search,setSearch,filtersOpen,setFiltersOpen}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"btn sticky top-0 z-30 bg-white/80 backdrop-blur -b\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto px-4 py-3 flex items-center gap-3\",children:[/*#__PURE__*/_jsx(BookOpen,{className:\"w-6 h-6\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold\",children:\"Textbook Exchange\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2 w-full max-w-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex-1\",children:[/*#__PURE__*/_jsx(Search,{className:\"btn btn-sm w-4 h-4 absolute left-3 to /2 -translate-y-1/2\"}),/*#__PURE__*/_jsx(\"input\",{value:search,onChange:e=>setSearch(e.target.value),placeholder:\"Search title, author, course...\",className:\"btn w-full pl-9 pr-10 py-2 rounded-2xl focus:outline-none focus:ring\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm absolute right-2 to /2 -translate-y-1/2 p-1 hover:bg-gray-100 rounded\",onClick:()=>setFiltersOpen(!filtersOpen),title:\"Filters\",children:/*#__PURE__*/_jsx(Filter,{className:\"w-4 h-4\"})})]})}),session?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:onShowFavs,className:\"btn px-3 py-2 rounded-2xl hover:bg-gray-50 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Heart,{className:\"w-4 h-4\"}),\" Favorites\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onShowAdd,className:\"btn btn-primary px-3 py-2 rounded-2xl\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"}),\" New Listing\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onLogout,className:\"btn px-3 py-2 rounded-2xl hover:bg-gray-50 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(LogOut,{className:\"w-4 h-4\"}),\" Logout\"]})]}):null]})});}function Auth(_ref2){let{onLoggedIn,users,setUsers}=_ref2;const[mode,setMode]=useState(\"login\");const[name,setName]=useState(\"\");const[email,setEmail]=useState(\"\");const[phone,setPhone]=useState(\"\");const[password,setPassword]=useState(\"\");const[error,setError]=useState(\"\");const submit=e=>{e.preventDefault();setError(\"\");if(mode===\"login\"){const u=users.find(u=>u.email===email&&u.password===password);if(!u)return setError(\"Invalid email or password\");onLoggedIn(u);}else{if(!name||!email||!password)return setError(\"All fields required\");if(users.some(u=>u.email===email))return setError(\"Email already registered\");const u={id:uid(),name,email,phone,password,created_at:nowISO()};setUsers([...users,u]);onLoggedIn(u);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto mt-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btn rounded-3xl p-6 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-4\",children:[/*#__PURE__*/_jsx(User,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold\",children:mode===\"login\"?\"Login\":\"Create an account\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 text-sm mb-3\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,className:\"space-y-3\",children:[mode===\"register\"&&/*#__PURE__*/_jsx(\"input\",{className:\"btn w-full rounded-xl px-3 py-2\",placeholder:\"Full name\",value:name,onChange:e=>setName(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"btn w-full rounded-xl px-3 py-2\",placeholder:\"Email\",type:\"email\",value:email,onChange:e=>setEmail(e.target.value)}),mode===\"register\"&&/*#__PURE__*/_jsx(\"input\",{className:\"btn w-full rounded-xl px-3 py-2\",placeholder:\"Phone / WhatsApp\",value:phone,onChange:e=>setPhone(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"btn w-full rounded-xl px-3 py-2\",placeholder:\"Password\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary w-full\",children:mode===\"login\"?\"Login\":\"Register\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-center mt-4\",children:mode===\"login\"?/*#__PURE__*/_jsx(\"button\",{className:\"underline\",onClick:()=>setMode(\"register\"),children:\"No account? Register\"}):/*#__PURE__*/_jsx(\"button\",{className:\"underline\",onClick:()=>setMode(\"login\"),children:\"Have an account? Login\"})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-3\",children:\"Demo note: passwords are stored in localStorage for demo purposes only. Do not use real credentials.\"})]});}function Filters(_ref3){let{filters,setFilters}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"grid sm:grid-cols-4 gap-3\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"btn rounded-xl px-3 py-2\",placeholder:\"Course (e.g., CS201)\",value:filters.course,onChange:e=>setFilters(v=>_objectSpread(_objectSpread({},v),{},{course:e.target.value}))}),/*#__PURE__*/_jsxs(\"select\",{className:\"btn rounded-xl px-3 py-2\",value:filters.condition,onChange:e=>setFilters(v=>_objectSpread(_objectSpread({},v),{},{condition:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Condition (any)\"}),/*#__PURE__*/_jsx(\"option\",{children:\"New\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Good\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Used\"})]}),/*#__PURE__*/_jsx(\"input\",{className:\"btn rounded-xl px-3 py-2\",type:\"number\",placeholder:\"Min price\",value:filters.minPrice,onChange:e=>setFilters(v=>_objectSpread(_objectSpread({},v),{},{minPrice:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"btn rounded-xl px-3 py-2\",type:\"number\",placeholder:\"Max price\",value:filters.maxPrice,onChange:e=>setFilters(v=>_objectSpread(_objectSpread({},v),{},{maxPrice:e.target.value}))})]});}function AddListingModal(_ref4){let{open,onClose,onAdd,session}=_ref4;const[title,setTitle]=useState(\"\");const[author,setAuthor]=useState(\"\");const[course,setCourse]=useState(\"\");const[price,setPrice]=useState(\"\");const[condition,setCondition]=useState(\"Good\");const[image,setImage]=useState(\"\");const fileRef=useRef();if(!open)return null;const handleFile=async file=>{if(!file)return;const reader=new FileReader();reader.onload=()=>setImage(reader.result.toString());reader.readAsDataURL(file);};const submit=e=>{e.preventDefault();onAdd({id:uid(),title,author,course,price:Number(price),condition,image,seller_id:session.id,status:\"Available\",created_at:nowISO()});onClose();setTitle(\"\");setAuthor(\"\");setCourse(\"\");setPrice(\"\");setCondition(\"Good\");setImage(\"\");};return/*#__PURE__*/_jsx(\"div\",{className:\"btn btn-primary fixed inset-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-3xl p-6 w-full max-w-lg shadow-xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"New Listing\"}),/*#__PURE__*/_jsx(\"button\",{className:\"p-2 hover:bg-gray-100 rounded-xl\",onClick:onClose,children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"btn w-full rounded-xl px-3 py-2\",placeholder:\"Book title\",value:title,onChange:e=>setTitle(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"btn w-full rounded-xl px-3 py-2\",placeholder:\"Author\",value:author,onChange:e=>setAuthor(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"btn w-full rounded-xl px-3 py-2\",placeholder:\"Course (e.g., CS201)\",value:course,onChange:e=>setCourse(e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-3\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"btn rounded-xl px-3 py-2\",type:\"number\",placeholder:\"Price\",value:price,onChange:e=>setPrice(e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{className:\"btn rounded-xl px-3 py-2\",value:condition,onChange:e=>setCondition(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{children:\"New\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Good\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Used\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn rounded-xl p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(Upload,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:\"Book cover (optional)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"PNG/JPG will be stored locally in your browser\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn px-3 py-1.5 rounded-xl\",onClick:()=>{var _fileRef$current;return(_fileRef$current=fileRef.current)===null||_fileRef$current===void 0?void 0:_fileRef$current.click();},children:\"Choose file\"}),/*#__PURE__*/_jsx(\"input\",{ref:fileRef,type:\"file\",accept:\"image/*\",className:\"hidden\",onChange:e=>{var _e$target$files;return handleFile((_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0]);}})]}),image&&/*#__PURE__*/_jsx(\"img\",{alt:\"preview\",src:image,className:\"mt-3 rounded-xl max-h-40 object-contain mx-auto\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary w-full\",children:\"Post Listing\"})]})]})});}function BookCard(_ref5){let{book,seller,isOwner,onDelete,onToggleSold,onFav,favbedByUser}=_ref5;return/*#__PURE__*/_jsxs(motion.div,{layout:true,className:\"btn rounded-2xl shadow-sm p-4 flex gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-24 h-28 bg-gray-100 rounded-xl overflow-hidden flex items-center justify-center\",children:book.image?/*#__PURE__*/_jsx(\"img\",{alt:book.title,src:book.image,className:\"btn btn-primary w-full h-full object-cover\"}):/*#__PURE__*/_jsx(BookOpen,{className:\"w-8 h-8 opacity-50\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-lg\",children:book.title}),book.status===\"Sold\"&&/*#__PURE__*/_jsxs(\"span\",{className:\"btn btn-sm ml-2 inline-flex items-center ga text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full\",children:[/*#__PURE__*/_jsx(CheckCircle2,{className:\"w-3 h-3\"}),\" Sold\"]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[book.author,\" \\u2022 \",book.course,\" \\u2022 \",/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[\"R\",book.price]}),\" \\u2022 \",book.condition]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mt-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"btn btn-sm inline-flex items-center ga\",children:[/*#__PURE__*/_jsx(User,{className:\"w-4 h-4\"}),\" \",(seller===null||seller===void 0?void 0:seller.name)||\"Unknown\"]}),(seller===null||seller===void 0?void 0:seller.phone)&&/*#__PURE__*/_jsxs(\"a\",{href:\"https://wa.me/\".concat(seller.phone.replace(/\\D/g,\"\"),\"?text=Hi%20\").concat(encodeURIComponent(seller.name),\",%20I'm%20interested%20in%20\").concat(encodeURIComponent(book.title),\".\"),target:\"_blank\",rel:\"noreferrer\",className:\"btn btn-sm inline-flex items-center ga underline\",children:[/*#__PURE__*/_jsx(Phone,{className:\"w-4 h-4\"}),\" WhatsApp\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 flex items-center gap-2\",children:[!isOwner&&/*#__PURE__*/_jsxs(\"button\",{onClick:onFav,className:\"px-3 py-1.5 rounded-xl border flex items-center gap-2 \".concat(favbedByUser?\"bg-pink-50\":\"\"),children:[/*#__PURE__*/_jsx(Heart,{className:\"w-4 h-4\"}),\" \",favbedByUser?\"Saved\":\"Save\"]}),isOwner&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:onToggleSold,className:\"btn px-3 py-1.5 rounded-xl flex items-center gap-2\",children:[/*#__PURE__*/_jsx(CheckCircle2,{className:\"w-4 h-4\"}),\" \",book.status===\"Available\"?\"Mark as Sold\":\"Mark as Available\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onDelete,className:\"btn px-3 py-1.5 rounded-xl flex items-center gap-2 hover:bg-red-50\",children:[/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"}),\" Delete\"]})]})]})]})]});}function Listings(_ref6){let{books,users,currentUser,onDelete,onToggleSold,onFav,favs,search,filters}=_ref6;const filtered=useMemo(()=>{const q=search.trim().toLowerCase();return books.filter(b=>b.status!==\"Hidden\").filter(b=>!q||[b.title,b.author,b.course].some(x=>(x||\"\").toLowerCase().includes(q))).filter(b=>!filters.course||(b.course||\"\").toLowerCase().includes(filters.course.toLowerCase())).filter(b=>!filters.condition||b.condition===filters.condition).filter(b=>!filters.minPrice||Number(b.price)>=Number(filters.minPrice)).filter(b=>!filters.maxPrice||Number(b.price)<=Number(filters.maxPrice)).sort((a,b)=>new Date(b.created_at)-new Date(a.created_at));},[books,search,filters]);if(filtered.length===0){return/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500 py-10\",children:\"No books match your search yet. Try clearing filters or add a new listing.\"});}return/*#__PURE__*/_jsx(AnimatePresence,{mode:\"popLayout\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 gap-4\",children:filtered.map(b=>{var _favs;return/*#__PURE__*/_jsx(BookCard,{book:b,seller:users.find(u=>u.id===b.seller_id),isOwner:(currentUser===null||currentUser===void 0?void 0:currentUser.id)===b.seller_id,favbedByUser:!!(favs!==null&&favs!==void 0&&(_favs=favs[(currentUser===null||currentUser===void 0?void 0:currentUser.id)||\"\"])!==null&&_favs!==void 0&&_favs[b.id]),onDelete:()=>onDelete(b.id),onToggleSold:()=>onToggleSold(b.id),onFav:()=>onFav(b.id)},b.id);})})});}function Favorites(_ref7){let{currentUser,favs,books,users,onFavToggle}=_ref7;const favIds=Object.entries(favs[currentUser.id]||{}).filter(_ref8=>{let[,v]=_ref8;return v;}).map(_ref9=>{let[k]=_ref9;return k;});const favBooks=books.filter(b=>favIds.includes(b.id));return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-3 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Heart,{className:\"w-4 h-4\"}),\" Your Favorites\"]}),favBooks.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No favorites yet. Click \\\"Save\\\" on listings you like.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 gap-4\",children:favBooks.map(b=>/*#__PURE__*/_jsx(BookCard,{book:b,seller:users.find(u=>u.id===b.seller_id),isOwner:false,favbedByUser:true,onDelete:()=>{},onToggleSold:()=>{},onFav:()=>onFavToggle(b.id)},b.id))})]});}export default function App(){useSeed();const{users,setUsers,books,setBooks,session,setSession,favs,setFavs}=useStore();const[search,setSearch]=useState(\"\");const[filtersOpen,setFiltersOpen]=useState(false);const[filters,setFilters]=useState({course:\"\",condition:\"\",minPrice:\"\",maxPrice:\"\"});const[showFavs,setShowFavs]=useState(false);const[addOpen,setAddOpen]=useState(false);const handleLogin=u=>setSession(u);const handleLogout=()=>setSession(null);const addBook=b=>setBooks([b,...books]);const delBook=id=>setBooks(books.filter(b=>b.id!==id));const toggleSold=id=>setBooks(books.map(b=>b.id===id?_objectSpread(_objectSpread({},b),{},{status:b.status===\"Available\"?\"Sold\":\"Available\"}):b));const toggleFav=bookId=>setFavs(prev=>{const userId=session===null||session===void 0?void 0:session.id;if(!userId)return prev;const curr=prev[userId]||{};const next=_objectSpread(_objectSpread({},prev),{},{[userId]:_objectSpread(_objectSpread({},curr),{},{[bookId]:!curr[bookId]})});return next;});return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-b from-white to-gray-50\",children:[/*#__PURE__*/_jsx(Header,{session:session,onLogout:handleLogout,onShowAdd:()=>setAddOpen(true),onShowFavs:()=>setShowFavs(v=>!v),search:search,setSearch:setSearch,filtersOpen:filtersOpen,setFiltersOpen:setFiltersOpen}),/*#__PURE__*/_jsx(\"main\",{className:\"max-w-6xl mx-auto px-4 py-6\",children:!session?/*#__PURE__*/_jsx(Auth,{onLoggedIn:handleLogin,users:users,setUsers:setUsers}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Logged in as\"}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-xl bg-gray-100 text-sm\",children:session.name})]})}),/*#__PURE__*/_jsx(AnimatePresence,{children:filtersOpen&&/*#__PURE__*/_jsx(motion.div,{initial:{height:0,opacity:0},animate:{height:\"auto\",opacity:1},exit:{height:0,opacity:0},className:\"mb-4 overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"btn rounded-2xl p-4 bg-white shadow-sm\",children:/*#__PURE__*/_jsx(Filters,{filters:filters,setFilters:setFilters})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"md:col-span-2\",children:/*#__PURE__*/_jsx(Listings,{books:books,users:users,currentUser:session,onDelete:delBook,onToggleSold:toggleSold,onFav:toggleFav,favs:favs,search:search,filters:filters})}),/*#__PURE__*/_jsx(\"aside\",{className:\"md:col-span-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"btn rounded-2xl p-4 bg-white shadow-sm sticky top-20\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-3\",children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setAddOpen(true),className:\"btn btn-primary w-full px-3 py-2 rounded-xl\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"}),\" New Listing\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowFavs(v=>!v),className:\"btn w-full px-3 py-2 rounded-xl flex items-center gap-2 justify-center\",children:[/*#__PURE__*/_jsx(Heart,{className:\"w-4 h-4\"}),\" \",showFavs?\"Hide\":\"Show\",\" Favorites\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-sm text-gray-600\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Tip: Use the search bar to quickly find by \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"title, author, or course\"}),\". You can also filter by condition and price.\"]})})]})})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:showFavs&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:\"mt-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"btn rounded-2xl p-4 bg-white shadow-sm\",children:/*#__PURE__*/_jsx(Favorites,{currentUser:session,favs:favs,books:books,users:users,onFavToggle:toggleFav})})})}),/*#__PURE__*/_jsx(AddListingModal,{open:addOpen,onClose:()=>setAddOpen(false),onAdd:addBook,session:session})]})}),/*#__PURE__*/_jsx(\"footer\",{className:\"max-w-6xl mx-auto px-4 py-10 text-sm text-gray-500\",children:/*#__PURE__*/_jsx(\"div\",{className:\"btn rounded-3xl p-4 text-center\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Student Project Demo\"}),\" \\u2014 Data is stored locally in your browser (localStorage). For a production app, connect a backend (Node, PHP, or Django) and a real database (MySQL/PostgreSQL/MongoDB).\"]})})})]});}","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","motion","AnimatePresence","Search","Plus","LogIn","LogOut","BookOpen","Heart","Trash2","Star","X","CheckCircle2","MessageCircle","Phone","Filter","Upload","User","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","uid","Math","random","toString","slice","Date","now","nowISO","toISOString","LS","get","key","fallback","_JSON$parse","JSON","parse","localStorage","getItem","_unused","set","val","setItem","stringify","del","removeItem","KEYS","users","books","favs","session","useSeed","length","u1","id","name","email","phone","created_at","password","u2","demoBooks","title","author","course","price","condition","image","seller_id","status","useStore","setUsers","setBooks","setSession","setFavs","Header","_ref","onLogout","onShowAdd","onShowFavs","search","setSearch","filtersOpen","setFiltersOpen","className","children","value","onChange","e","target","placeholder","onClick","Auth","_ref2","onLoggedIn","mode","setMode","setName","setEmail","setPhone","setPassword","error","setError","submit","preventDefault","u","find","some","onSubmit","type","Filters","_ref3","filters","setFilters","v","_objectSpread","minPrice","maxPrice","AddListingModal","_ref4","open","onClose","onAdd","setTitle","setAuthor","setCourse","setPrice","setCondition","setImage","fileRef","handleFile","file","reader","FileReader","onload","result","readAsDataURL","Number","_fileRef$current","current","click","ref","accept","_e$target$files","files","alt","src","BookCard","_ref5","book","seller","isOwner","onDelete","onToggleSold","onFav","favbedByUser","div","layout","href","concat","replace","encodeURIComponent","rel","Listings","_ref6","currentUser","filtered","q","trim","toLowerCase","filter","b","x","includes","sort","a","map","_favs","Favorites","_ref7","onFavToggle","favIds","Object","entries","_ref8","_ref9","k","favBooks","App","showFavs","setShowFavs","addOpen","setAddOpen","handleLogin","handleLogout","addBook","delBook","toggleSold","toggleFav","bookId","prev","userId","curr","next","initial","height","opacity","animate","exit","y"],"sources":["C:/Users/MUGARIANDANI/Downloads/textbook-exchange-centered (1)/src/App.jsx"],"sourcesContent":["import \"./App.css\";\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { Search, Plus, LogIn, LogOut, BookOpen, Heart, Trash2, Star, X, CheckCircle2, MessageCircle, Phone, Filter, Upload, User } from \"lucide-react\";\n\n// Utility helpers\nconst uid = () => Math.random().toString(36).slice(2) + Date.now().toString(36);\nconst nowISO = () => new Date().toISOString();\n\n// LocalStorage wrapper\nconst LS = {\n  get(key, fallback) {\n    try { return JSON.parse(localStorage.getItem(key) || \"\") ?? fallback; } catch { return fallback; }\n  },\n  set(key, val) { localStorage.setItem(key, JSON.stringify(val)); },\n  del(key) { localStorage.removeItem(key); }\n};\n\nconst KEYS = {\n  users: \"tx_users\",\n  books: \"tx_books\",\n  favs: \"tx_favs\",\n  session: \"tx_session\"\n};\n\n// Seed demo data on first load\nfunction useSeed() {\n  useEffect(() => {\n    const users = LS.get(KEYS.users, []);\n    const books = LS.get(KEYS.books, []);\n    if (users.length === 0 && books.length === 0) {\n      const u1 = { id: uid(), name: \"Alex Student\", email: \"alex@campus.ac.za\", phone: \"0601234567\", created_at: nowISO(), password: \"pass\" };\n      const u2 = { id: uid(), name: \"Bongani N.\", email: \"bongani@campus.ac.za\", phone: \"0619876543\", created_at: nowISO(), password: \"pass\" };\n      const demoBooks = [\n        { id: uid(), title: \"Discrete Mathematics and Its Applications\", author: \"Rosen\", course: \"CS201\", price: 300, condition: \"Good\", image: \"\", seller_id: u1.id, status: \"Available\", created_at: nowISO() },\n        { id: uid(), title: \"Introduction to Algorithms\", author: \"CLRS\", course: \"CS301\", price: 450, condition: \"Used\", image: \"\", seller_id: u2.id, status: \"Available\", created_at: nowISO() },\n      ];\n      LS.set(KEYS.users, [u1, u2]);\n      LS.set(KEYS.books, demoBooks);\n    }\n  }, []);\n}\n\nfunction useStore() {\n  const [users, setUsers] = useState(() => LS.get(KEYS.users, []));\n  const [books, setBooks] = useState(() => LS.get(KEYS.books, []));\n  const [session, setSession] = useState(() => LS.get(KEYS.session, null));\n  const [favs, setFavs] = useState(() => LS.get(KEYS.favs, {})); // { [userId]: { [bookId]: true } }\n\n  useEffect(() => LS.set(KEYS.users, users), [users]);\n  useEffect(() => LS.set(KEYS.books, books), [books]);\n  useEffect(() => LS.set(KEYS.session, session), [session]);\n  useEffect(() => LS.set(KEYS.favs, favs), [favs]);\n\n  return { users, setUsers, books, setBooks, session, setSession, favs, setFavs };\n}\n\nfunction Header({ session, onLogout, onShowAdd, onShowFavs, search, setSearch, filtersOpen, setFiltersOpen }) {\n  return (\n    <div className=\"btn sticky top-0 z-30 bg-white/80 backdrop-blur -b\">\n      <div className=\"max-w-6xl mx-auto px-4 py-3 flex items-center gap-3\">\n        <BookOpen className=\"w-6 h-6\" />\n        <h1 className=\"text-xl font-bold\">Textbook Exchange</h1>\n        <div className=\"flex-1\" />\n        <div className=\"flex items-center gap-2 w-full max-w-xl\">\n          <div className=\"relative flex-1\">\n            <Search className=\"btn btn-sm w-4 h-4 absolute left-3 to /2 -translate-y-1/2\" />\n            <input\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n              placeholder=\"Search title, author, course...\"\n              className=\"btn w-full pl-9 pr-10 py-2 rounded-2xl focus:outline-none focus:ring\"\n            />\n            <button\n              className=\"btn btn-sm absolute right-2 to /2 -translate-y-1/2 p-1 hover:bg-gray-100 rounded\"\n              onClick={() => setFiltersOpen(!filtersOpen)}\n              title=\"Filters\"\n            >\n              <Filter className=\"w-4 h-4\" />\n            </button>\n          </div>\n        </div>\n        {session ? (\n          <div className=\"flex items-center gap-2\">\n            <button onClick={onShowFavs} className=\"btn px-3 py-2 rounded-2xl hover:bg-gray-50 flex items-center gap-2\"><Heart className=\"w-4 h-4\" /> Favorites</button>\n            <button onClick={onShowAdd} className=\"btn btn-primary px-3 py-2 rounded-2xl\"><Plus className=\"w-4 h-4\" /> New Listing</button>\n            <button onClick={onLogout} className=\"btn px-3 py-2 rounded-2xl hover:bg-gray-50 flex items-center gap-2\"><LogOut className=\"w-4 h-4\" /> Logout</button>\n          </div>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n\nfunction Auth({ onLoggedIn, users, setUsers }) {\n  const [mode, setMode] = useState(\"login\");\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const submit = (e) => {\n    e.preventDefault();\n    setError(\"\");\n    if (mode === \"login\") {\n      const u = users.find(u => u.email === email && u.password === password);\n      if (!u) return setError(\"Invalid email or password\");\n      onLoggedIn(u);\n    } else {\n      if (!name || !email || !password) return setError(\"All fields required\");\n      if (users.some(u => u.email === email)) return setError(\"Email already registered\");\n      const u = { id: uid(), name, email, phone, password, created_at: nowISO() };\n      setUsers([...users, u]);\n      onLoggedIn(u);\n    }\n  };\n\n  return (\n    <div className=\"max-w-md mx-auto mt-10\">\n      <div className=\"btn rounded-3xl p-6 shadow-sm\">\n        <div className=\"flex items-center gap-2 mb-4\">\n          <User className=\"w-5 h-5\" />\n          <h2 className=\"text-lg font-semibold\">{mode === \"login\" ? \"Login\" : \"Create an account\"}</h2>\n        </div>\n        {error && <p className=\"text-red-600 text-sm mb-3\">{error}</p>}\n        <form onSubmit={submit} className=\"space-y-3\">\n          {mode === \"register\" && (\n            <input className=\"btn w-full rounded-xl px-3 py-2\" placeholder=\"Full name\" value={name} onChange={(e) => setName(e.target.value)} />\n          )}\n          <input className=\"btn w-full rounded-xl px-3 py-2\" placeholder=\"Email\" type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} />\n          {mode === \"register\" && (\n            <input className=\"btn w-full rounded-xl px-3 py-2\" placeholder=\"Phone / WhatsApp\" value={phone} onChange={(e) => setPhone(e.target.value)} />\n          )}\n          <input className=\"btn w-full rounded-xl px-3 py-2\" placeholder=\"Password\" type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n          <button className=\"btn btn-primary w-full\">{mode === \"login\" ? \"Login\" : \"Register\"}</button>\n        </form>\n        <div className=\"text-sm text-center mt-4\">\n          {mode === \"login\" ? (\n            <button className=\"underline\" onClick={() => setMode(\"register\")}>No account? Register</button>\n          ) : (\n            <button className=\"underline\" onClick={() => setMode(\"login\")}>Have an account? Login</button>\n          )}\n        </div>\n      </div>\n      <p className=\"text-xs text-gray-500 mt-3\">Demo note: passwords are stored in localStorage for demo purposes only. Do not use real credentials.</p>\n    </div>\n  );\n}\n\nfunction Filters({ filters, setFilters }) {\n  return (\n    <div className=\"grid sm:grid-cols-4 gap-3\">\n      <input className=\"btn rounded-xl px-3 py-2\" placeholder=\"Course (e.g., CS201)\" value={filters.course} onChange={(e)=>setFilters(v=>({...v, course:e.target.value}))} />\n      <select className=\"btn rounded-xl px-3 py-2\" value={filters.condition} onChange={(e)=>setFilters(v=>({...v, condition:e.target.value}))}>\n        <option value=\"\">Condition (any)</option>\n        <option>New</option>\n        <option>Good</option>\n        <option>Used</option>\n      </select>\n      <input className=\"btn rounded-xl px-3 py-2\" type=\"number\" placeholder=\"Min price\" value={filters.minPrice} onChange={(e)=>setFilters(v=>({...v, minPrice:e.target.value}))} />\n      <input className=\"btn rounded-xl px-3 py-2\" type=\"number\" placeholder=\"Max price\" value={filters.maxPrice} onChange={(e)=>setFilters(v=>({...v, maxPrice:e.target.value}))} />\n    </div>\n  );\n}\n\nfunction AddListingModal({ open, onClose, onAdd, session }) {\n  const [title, setTitle] = useState(\"\");\n  const [author, setAuthor] = useState(\"\");\n  const [course, setCourse] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [condition, setCondition] = useState(\"Good\");\n  const [image, setImage] = useState(\"\");\n\n  const fileRef = useRef();\n\n  if (!open) return null;\n\n  const handleFile = async (file) => {\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = () => setImage(reader.result.toString());\n    reader.readAsDataURL(file);\n  };\n\n  const submit = (e) => {\n    e.preventDefault();\n    onAdd({ id: uid(), title, author, course, price: Number(price), condition, image, seller_id: session.id, status: \"Available\", created_at: nowISO() });\n    onClose();\n    setTitle(\"\"); setAuthor(\"\"); setCourse(\"\"); setPrice(\"\"); setCondition(\"Good\"); setImage(\"\");\n  };\n\n  return (\n    <div className=\"btn btn-primary fixed inset-0\">\n      <div className=\"bg-white rounded-3xl p-6 w-full max-w-lg shadow-xl\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h3 className=\"text-lg font-semibold\">New Listing</h3>\n          <button className=\"p-2 hover:bg-gray-100 rounded-xl\" onClick={onClose}><X className=\"w-4 h-4\"/></button>\n        </div>\n        <form onSubmit={submit} className=\"space-y-3\">\n          <input className=\"btn w-full rounded-xl px-3 py-2\" placeholder=\"Book title\" value={title} onChange={e=>setTitle(e.target.value)} />\n          <input className=\"btn w-full rounded-xl px-3 py-2\" placeholder=\"Author\" value={author} onChange={e=>setAuthor(e.target.value)} />\n          <input className=\"btn w-full rounded-xl px-3 py-2\" placeholder=\"Course (e.g., CS201)\" value={course} onChange={e=>setCourse(e.target.value)} />\n          <div className=\"grid grid-cols-2 gap-3\">\n            <input className=\"btn rounded-xl px-3 py-2\" type=\"number\" placeholder=\"Price\" value={price} onChange={e=>setPrice(e.target.value)} />\n            <select className=\"btn rounded-xl px-3 py-2\" value={condition} onChange={e=>setCondition(e.target.value)}>\n              <option>New</option>\n              <option>Good</option>\n              <option>Used</option>\n            </select>\n          </div>\n          <div className=\"btn rounded-xl p-3\">\n            <div className=\"flex items-center gap-3\">\n              <Upload className=\"w-4 h-4\" />\n              <div>\n                <p className=\"text-sm font-medium\">Book cover (optional)</p>\n                <p className=\"text-xs text-gray-500\">PNG/JPG will be stored locally in your browser</p>\n              </div>\n              <div className=\"flex-1\" />\n              <button type=\"button\" className=\"btn px-3 py-1.5 rounded-xl\" onClick={()=>fileRef.current?.click()}>Choose file</button>\n              <input ref={fileRef} type=\"file\" accept=\"image/*\" className=\"hidden\" onChange={(e)=>handleFile(e.target.files?.[0])} />\n            </div>\n            {image && (<img alt=\"preview\" src={image} className=\"mt-3 rounded-xl max-h-40 object-contain mx-auto\" />)}\n          </div>\n          <button className=\"btn btn-primary w-full\">Post Listing</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nfunction BookCard({ book, seller, isOwner, onDelete, onToggleSold, onFav, favbedByUser }) {\n  return (\n    <motion.div layout className=\"btn rounded-2xl shadow-sm p-4 flex gap-4\">\n      <div className=\"w-24 h-28 bg-gray-100 rounded-xl overflow-hidden flex items-center justify-center\">\n        {book.image ? <img alt={book.title} src={book.image} className=\"btn btn-primary w-full h-full object-cover\" /> : <BookOpen className=\"w-8 h-8 opacity-50\" />}\n      </div>\n      <div className=\"flex-1\">\n        <div className=\"flex items-start gap-2\">\n          <h4 className=\"font-semibold text-lg\">{book.title}</h4>\n          {book.status === \"Sold\" && (\n            <span className=\"btn btn-sm ml-2 inline-flex items-center ga text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full\"><CheckCircle2 className=\"w-3 h-3\"/> Sold</span>\n          )}\n        </div>\n        <p className=\"text-sm text-gray-600\">{book.author} • {book.course} • <span className=\"font-medium\">R{book.price}</span> • {book.condition}</p>\n        <div className=\"flex items-center gap-2 mt-2 text-sm\">\n          <span className=\"btn btn-sm inline-flex items-center ga\"><User className=\"w-4 h-4\" /> {seller?.name || \"Unknown\"}</span>\n          {seller?.phone && (\n            <a href={`https://wa.me/${seller.phone.replace(/\\D/g, \"\")}?text=Hi%20${encodeURIComponent(seller.name)},%20I'm%20interested%20in%20${encodeURIComponent(book.title)}.`}\n               target=\"_blank\" rel=\"noreferrer\"\n               className=\"btn btn-sm inline-flex items-center ga underline\">\n              <Phone className=\"w-4 h-4\" /> WhatsApp\n            </a>\n          )}\n        </div>\n        <div className=\"mt-3 flex items-center gap-2\">\n          {!isOwner && (\n            <button onClick={onFav} className={`px-3 py-1.5 rounded-xl border flex items-center gap-2 ${favbedByUser ? \"bg-pink-50\" : \"\"}`}>\n              <Heart className=\"w-4 h-4\" /> {favbedByUser ? \"Saved\" : \"Save\"}\n            </button>\n          )}\n          {isOwner && (\n            <>\n              <button onClick={onToggleSold} className=\"btn px-3 py-1.5 rounded-xl flex items-center gap-2\"><CheckCircle2 className=\"w-4 h-4\" /> {book.status === \"Available\" ? \"Mark as Sold\" : \"Mark as Available\"}</button>\n              <button onClick={onDelete} className=\"btn px-3 py-1.5 rounded-xl flex items-center gap-2 hover:bg-red-50\"><Trash2 className=\"w-4 h-4\" /> Delete</button>\n            </>\n          )}\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n\nfunction Listings({ books, users, currentUser, onDelete, onToggleSold, onFav, favs, search, filters }) {\n  const filtered = useMemo(() => {\n    const q = search.trim().toLowerCase();\n    return books\n      .filter(b => b.status !== \"Hidden\")\n      .filter(b => !q || [b.title, b.author, b.course].some(x => (x||\"\").toLowerCase().includes(q)))\n      .filter(b => !filters.course || (b.course||\"\").toLowerCase().includes(filters.course.toLowerCase()))\n      .filter(b => !filters.condition || b.condition === filters.condition)\n      .filter(b => !filters.minPrice || Number(b.price) >= Number(filters.minPrice))\n      .filter(b => !filters.maxPrice || Number(b.price) <= Number(filters.maxPrice))\n      .sort((a,b) => new Date(b.created_at) - new Date(a.created_at));\n  }, [books, search, filters]);\n\n  if (filtered.length === 0) {\n    return <p className=\"text-center text-gray-500 py-10\">No books match your search yet. Try clearing filters or add a new listing.</p>;\n  }\n\n  return (\n    <AnimatePresence mode=\"popLayout\">\n      <div className=\"grid md:grid-cols-2 gap-4\">\n        {filtered.map(b => (\n          <BookCard\n            key={b.id}\n            book={b}\n            seller={users.find(u=>u.id===b.seller_id)}\n            isOwner={currentUser?.id === b.seller_id}\n            favbedByUser={!!favs?.[currentUser?.id||\"\" ]?.[b.id]}\n            onDelete={() => onDelete(b.id)}\n            onToggleSold={() => onToggleSold(b.id)}\n            onFav={() => onFav(b.id)}\n          />\n        ))}\n      </div>\n    </AnimatePresence>\n  );\n}\n\nfunction Favorites({ currentUser, favs, books, users, onFavToggle }) {\n  const favIds = Object.entries(favs[currentUser.id] || {}).filter(([,v])=>v).map(([k])=>k);\n  const favBooks = books.filter(b=>favIds.includes(b.id));\n  return (\n    <div>\n      <h3 className=\"text-lg font-semibold mb-3 flex items-center gap-2\"><Heart className=\"w-4 h-4\" /> Your Favorites</h3>\n      {favBooks.length === 0 ? (\n        <p className=\"text-gray-500\">No favorites yet. Click \"Save\" on listings you like.</p>\n      ) : (\n        <div className=\"grid md:grid-cols-2 gap-4\">\n          {favBooks.map(b => (\n            <BookCard\n              key={b.id}\n              book={b}\n              seller={users.find(u=>u.id===b.seller_id)}\n              isOwner={false}\n              favbedByUser={true}\n              onDelete={()=>{}}\n              onToggleSold={()=>{}}\n              onFav={() => onFavToggle(b.id)}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default function App() {\n  useSeed();\n  const { users, setUsers, books, setBooks, session, setSession, favs, setFavs } = useStore();\n\n  const [search, setSearch] = useState(\"\");\n  const [filtersOpen, setFiltersOpen] = useState(false);\n  const [filters, setFilters] = useState({ course: \"\", condition: \"\", minPrice: \"\", maxPrice: \"\" });\n  const [showFavs, setShowFavs] = useState(false);\n  const [addOpen, setAddOpen] = useState(false);\n\n  const handleLogin = (u) => setSession(u);\n  const handleLogout = () => setSession(null);\n\n  const addBook = (b) => setBooks([b, ...books]);\n  const delBook = (id) => setBooks(books.filter(b=>b.id!==id));\n  const toggleSold = (id) => setBooks(books.map(b=> b.id===id ? { ...b, status: b.status === \"Available\" ? \"Sold\" : \"Available\" } : b));\n  const toggleFav = (bookId) => setFavs(prev => {\n    const userId = session?.id;\n    if (!userId) return prev;\n    const curr = prev[userId] || {};\n    const next = { ...prev, [userId]: { ...curr, [bookId]: !curr[bookId] } };\n    return next;\n  });\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-white to-gray-50\">\n      <Header\n        session={session}\n        onLogout={handleLogout}\n        onShowAdd={() => setAddOpen(true)}\n        onShowFavs={() => setShowFavs(v=>!v)}\n        search={search}\n        setSearch={setSearch}\n        filtersOpen={filtersOpen}\n        setFiltersOpen={setFiltersOpen}\n      />\n\n      <main className=\"max-w-6xl mx-auto px-4 py-6\">\n        {!session ? (\n          <Auth onLoggedIn={handleLogin} users={users} setUsers={setUsers} />\n        ) : (\n          <>\n            <div className=\"mb-4\">\n              <div className=\"flex items-center gap-2\">\n                <span className=\"text-sm text-gray-600\">Logged in as</span>\n                <span className=\"px-2 py-1 rounded-xl bg-gray-100 text-sm\">{session.name}</span>\n              </div>\n            </div>\n\n            <AnimatePresence>\n              {filtersOpen && (\n                <motion.div initial={{ height: 0, opacity: 0 }} animate={{ height: \"auto\", opacity: 1 }} exit={{ height: 0, opacity: 0 }} className=\"mb-4 overflow-hidden\">\n                  <div className=\"btn rounded-2xl p-4 bg-white shadow-sm\">\n                    <Filters filters={filters} setFilters={setFilters} />\n                  </div>\n                </motion.div>\n              )}\n            </AnimatePresence>\n\n            <div className=\"grid md:grid-cols-3 gap-6\">\n              <div className=\"md:col-span-2\">\n                <Listings\n                  books={books}\n                  users={users}\n                  currentUser={session}\n                  onDelete={delBook}\n                  onToggleSold={toggleSold}\n                  onFav={toggleFav}\n                  favs={favs}\n                  search={search}\n                  filters={filters}\n                />\n              </div>\n              <aside className=\"md:col-span-1\">\n                <div className=\"btn rounded-2xl p-4 bg-white shadow-sm sticky top-20\">\n                  <h3 className=\"text-lg font-semibold mb-3\">Quick Actions</h3>\n                  <div className=\"space-y-2\">\n                    <button onClick={() => setAddOpen(true)} className=\"btn btn-primary w-full px-3 py-2 rounded-xl\"><Plus className=\"w-4 h-4\"/> New Listing</button>\n                    <button onClick={() => setShowFavs(v=>!v)} className=\"btn w-full px-3 py-2 rounded-xl flex items-center gap-2 justify-center\"><Heart className=\"w-4 h-4\"/> {showFavs ? \"Hide\" : \"Show\"} Favorites</button>\n                  </div>\n                  <div className=\"mt-4 text-sm text-gray-600\">\n                    <p>Tip: Use the search bar to quickly find by <span className=\"font-medium\">title, author, or course</span>. You can also filter by condition and price.</p>\n                  </div>\n                </div>\n              </aside>\n            </div>\n\n            <AnimatePresence>\n              {showFavs && (\n                <motion.div initial={{ opacity: 0, y: 10 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: 10 }} className=\"mt-6\">\n                  <div className=\"btn rounded-2xl p-4 bg-white shadow-sm\">\n                    <Favorites currentUser={session} favs={favs} books={books} users={users} onFavToggle={toggleFav} />\n                  </div>\n                </motion.div>\n              )}\n            </AnimatePresence>\n\n            <AddListingModal open={addOpen} onClose={()=>setAddOpen(false)} onAdd={addBook} session={session} />\n          </>\n        )}\n      </main>\n\n      <footer className=\"max-w-6xl mx-auto px-4 py-10 text-sm text-gray-500\">\n        <div className=\"btn rounded-3xl p-4 text-center\">\n          <p><strong>Student Project Demo</strong> — Data is stored locally in your browser (localStorage). For a production app, connect a backend (Node, PHP, or Django) and a real database (MySQL/PostgreSQL/MongoDB).</p>\n        </div>\n      </footer>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}